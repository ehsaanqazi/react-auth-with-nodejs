{"version":3,"sources":["context/AuthContext.js","components/Login.jsx","components/Register.jsx","components/Dashboard.jsx","components/Forgot-password.jsx","components/UpdateProfile.jsx","PrivateRoute.js","App.js","index.js"],"names":["AuthContext","React","createContext","url","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","localToken","localStorage","token","fetch","method","headers","Headers","cookie","load","body","JSON","stringify","credentials","mode","then","res","json","setItem","clear","Redirect","isLoggedIn","value","login","email","password","message","error","catch","register","username","signout","updateUsername","Authorization","getItem","updateEmail","updatePassword","forgotPassword","Accept","updateProfilePicture","profilePicture","profile","Provider","Login","emailRef","useRef","passwordRef","setError","history","useHistory","e","a","preventDefault","current","response","push","className","onSubmit","type","name","placeholder","ref","required","disabled","to","Register","usernameRef","passwordConfirmRef","style","setStyle","minLength","Dashboard","user","setUser","getProfile","src","height","width","alt","onClick","ForgetPassword","UpdateProfile","profilePictureRef","setProfilePicture","data","FormData","append","onChange","target","files","PrivateRoute","Component","component","rest","render","props","App","getToken","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c9fe73a3.chunk.js","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { Redirect } from \"react-router\";\nimport cookie from \"react-cookies\";\n\nconst AuthContext = React.createContext();\n\nconst url = \"http://localhost:3000/api\";\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState();\n  const [loading, setLoading] = useState(true);\n\n  function login(email, password) {\n    return fetch(`${url}/login`, {\n      method: \"POST\",\n      headers: new Headers({\n        \"Content-Type\": \"application/json\",\n        \"csrf-token\": `${cookie.load(\"csrf-token\")}`,\n      }),\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n      credentials: \"include\",\n      mode: \"cors\",\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.message) {\n          return { message: res.message };\n        } else if (res.token) {\n          setCurrentUser(res.token);\n          return { token: res.token };\n        } else {\n          return { error: \"An error occured\" };\n        }\n      })\n      .catch((error) => {\n        return error.message;\n      });\n  }\n\n  function forgotPassword(email) {\n    return fetch(`${url}/forgot-password`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json, text/plain, */*\",\n        \"Content-Type\": \"application/json\",\n        \"csrf-token\": `${cookie.load(\"csrf-token\")}`,\n      },\n      body: JSON.stringify({\n        email: email,\n      }),\n      credentials: \"include\",\n      mode: \"cors\",\n    });\n  }\n\n  function register(username, email, password) {\n    return fetch(`${url}/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"csrf-token\": `${cookie.load(\"csrf-token\")}`,\n      },\n      body: JSON.stringify({\n        username: username,\n        email: email,\n        password: password,\n      }),\n      credentials: \"include\",\n      mode: \"cors\",\n    });\n  }\n\n  function signout() {\n    localStorage.clear();\n    setCurrentUser(null);\n  }\n\n  function isLoggedIn(localToken) {\n    if (localStorage.token) {\n      return fetch(`${url}/isLoggedIn`, {\n        method: \"POST\",\n        headers: new Headers({\n          \"Content-Type\": \"application/json\",\n          \"csrf-token\": `${cookie.load(\"csrf-token\")}`,\n        }),\n        body: JSON.stringify({\n          token: localToken,\n        }),\n        credentials: \"include\",\n        mode: \"cors\",\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          if (res.token === localToken) {\n            localStorage.setItem(\"token\", res.token);\n            setCurrentUser(res.token);\n            setLoading(false);\n          } else {\n            localStorage.clear();\n            setCurrentUser(null);\n            Redirect(\"/login\");\n            setLoading(false);\n          }\n        });\n    } else {\n      localStorage.clear();\n      setCurrentUser(null);\n      Redirect(\"/login\");\n      setLoading(false);\n    }\n  }\n\n  function updateProfilePicture(profilePicture) {\n    return fetch(`${url}/update-profilepicture`, {\n      method: \"POST\",\n      headers: new Headers({\n        \"csrf-token\": `${cookie.load(\"csrf-token\")}`,\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      }),\n      body: profilePicture,\n      credentials: \"include\",\n      mode: \"cors\",\n    });\n  }\n\n  function updateUsername(username) {\n    return fetch(`${url}/change-username`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"csrf-token\": `${cookie.load(\"csrf-token\")}`,\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n      body: JSON.stringify({\n        username: username,\n      }),\n      credentials: \"include\",\n      mode: \"cors\",\n    });\n  }\n\n  function updateEmail(email) {\n    return fetch(`${url}/change-email`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"csrf-token\": `${cookie.load(\"csrf-token\")}`,\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n      body: JSON.stringify({\n        email: email,\n      }),\n      credentials: \"include\",\n      mode: \"cors\",\n    });\n  }\n\n  function updatePassword(password) {\n    return fetch(`${url}/change-password`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"csrf-token\": `${cookie.load(\"csrf-token\")}`,\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n      body: JSON.stringify({\n        password: password,\n      }),\n      credentials: \"include\",\n      mode: \"cors\",\n    });\n  }\n\n  function profile() {\n    return fetch(`${url}/profile`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"csrf-token\": `${cookie.load(\"csrf-token\")}`,\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n      credentials: \"include\",\n      mode: \"cors\",\n    });\n  }\n\n  useEffect(() => {\n    isLoggedIn(localStorage.token);\n  }, []);\n\n  const value = {\n    login,\n    register,\n    signout,\n    updateUsername,\n    updateEmail,\n    updatePassword,\n    forgotPassword,\n    currentUser,\n    updateProfilePicture,\n    profile,\n  };\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n","import { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { useHistory } from \"react-router\";\nimport cookie from \"react-cookies\";\n\nfunction Login() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuth();\n  const history = useHistory();\n  const token = cookie.load(\"csrf-token\");\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      let response = await login(\n        emailRef.current.value,\n        passwordRef.current.value\n      );\n\n      if (response.token) {\n        localStorage.setItem(\"token\", response.token);\n        history.push(\"/\");\n      } else if (response.message) {\n        setError(response.message);\n      } else {\n        setError(\"Something went wrong...\");\n      }\n\n      setLoading(false);\n    } catch {\n      setError(\"Something went wrong...\");\n      setLoading(false);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"login\">\n        <div className=\"login-content\">\n          <form onSubmit={handleSubmit}>\n            <h1 className=\"text-center my-4\">Login</h1>\n            <div className=\"\">\n              {error ? <div className=\"alert alert-danger\">{error}</div> : \"\"}\n              <input type=\"hidden\" name=\"_csrf\" value={token} />\n              <div className=\"mb-3\">\n                <input\n                  className=\"form-control form-control-lg fs-15px\"\n                  type=\"email\"\n                  placeholder=\"Email address\"\n                  ref={emailRef}\n                  required\n                />\n              </div>\n\n              <div className=\"mb-3\">\n                <input\n                  className=\"form-control\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  ref={passwordRef}\n                  required\n                />\n              </div>\n\n              <div className=\"mb-3\">\n                <button\n                  disabled={loading}\n                  className=\"btn btn-primary btn-lg d-block w-100 fw-500 mb-3\"\n                >\n                  Login\n                </button>\n              </div>\n              <div className=\"mb-3\">\n                <span className=\"text-center\">Not have an account? </span>\n                <Link to=\"/register\" className=\"text-center text-muted\">\n                  {\" \"}\n                  Register Here\n                </Link>\n              </div>\n              <div className=\"mb-3\">\n                <Link to=\"/forgot-password\"> Forget Password</Link>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\n\nfunction Register() {\n  const usernameRef = useRef();\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const passwordConfirmRef = useRef();\n  const [error, setError] = useState();\n  const [style, setStyle] = useState();\n  const [loading, setLoading] = useState(false);\n  const { register } = useAuth();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (passwordRef.current.value === passwordConfirmRef.current.value) {\n      try {\n        setLoading(true);\n        await register(\n          usernameRef.current.value,\n          emailRef.current.value,\n          passwordRef.current.value\n        )\n          .then((res) => res.json())\n          .then((res) => {\n            setError(res.message);\n            if (res.message === \"Registered Sucessfully\") {\n              setStyle(\"success\");\n            } else {\n              setStyle(\"danger\");\n            }\n          });\n        setLoading(false);\n      } catch {\n        setStyle(\"danger\");\n        setError(\"Something went wrong...\");\n        setLoading(false);\n      }\n    } else {\n      setStyle(\"danger\");\n      setError(\"Password's don't match\");\n      setLoading(false);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"login\">\n        <div className=\"login-content\">\n          <form onSubmit={handleSubmit}>\n            <h1 className=\"text-center my-4\">Register</h1>\n            <div className=\"justify-content-center\">\n              {error ? (\n                <div className={`alert alert-${style}`}>{error}</div>\n              ) : (\n                \"\"\n              )}\n              <div className=\"mb-3\">\n                <input\n                  className=\"form-control form-control-lg fs-15px\"\n                  type=\"text\"\n                  placeholder=\"Username\"\n                  ref={usernameRef}\n                  required\n                  minLength=\"8\"\n                />\n              </div>\n              <div className=\"mb-3\">\n                <input\n                  className=\"form-control form-control-lg fs-15px\"\n                  type=\"text\"\n                  placeholder=\"Email address\"\n                  ref={emailRef}\n                  required\n                />\n              </div>\n              <div className=\"mb-3\">\n                <input\n                  className=\"form-control form-control-lg fs-15px\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  ref={passwordRef}\n                  required\n                  minLength=\"8\"\n                />\n              </div>\n              <div className=\"mb-3\">\n                <input\n                  className=\"form-control form-control-lg fs-15px\"\n                  type=\"password\"\n                  placeholder=\"Confirm password\"\n                  ref={passwordConfirmRef}\n                  required\n                  minLength=\"8\"\n                />\n              </div>\n              <div className=\"mb-3\">\n                <button\n                  disabled={loading}\n                  className=\"btn btn-primary btn-lg d-block w-100 fw-500 mb-3\"\n                >\n                  Register\n                </button>\n              </div>\n            </div>\n          </form>\n          <span>Already have an account? </span>\n          <Link to=\"/login\"> Login</Link>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Register;\n","import { Link } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { useState, useEffect } from \"react\";\n\nfunction Dashboard() {\n  const { signout, profile } = useAuth();\n  const [error, setError] = useState();\n  const [user, setUser] = useState([]);\n\n  const url = \"http://localhost:3000\";\n\n  async function handleLogout() {\n    try {\n      await signout();\n    } catch {\n      setError(\"Something went wrong...\");\n    }\n  }\n\n  async function getProfile() {\n    try {\n      await profile()\n        .then((res) => res.json())\n        .then((res) => setUser(res));\n    } catch (error) {}\n  }\n\n  useEffect(() => {\n    getProfile();\n  });\n  return (\n    <>\n      <div className=\"container mt-4 mb-4 p-3 d-flex justify-content-center\">\n        <div className=\"card p-4\">\n          <h3>Username : {user.username}</h3>\n          <h3>Email : {user.email}</h3>\n          <div className=\" image d-flex flex-column justify-content-center align-items-center\">\n            {error ? <div className=\"alert alert-danger\">{error}</div> : \"\"}\n            <img\n              src={`${url}/uploads/` + user.profilePicture}\n              height=\"100\"\n              width=\"100\"\n              alt=\"user\"\n            />\n\n            <div className=\" d-flex mt-2\">\n              <Link to=\"/update-profile\">Edit Profile</Link>\n            </div>\n            <button onClick={handleLogout} className=\"btn btn-danger\">\n              Log Out\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Dashboard;\n","import { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\n\nfunction ForgetPassword() {\n  const emailRef = useRef();\n\n  const [error, setError] = useState();\n\n  const [loading, setLoading] = useState(false);\n  const [style, setStyle] = useState();\n  const { forgotPassword } = useAuth();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    try {\n      setError(\"\");\n      setLoading(true);\n      await forgotPassword(emailRef.current.value)\n        .then((res) => {\n          return res.json();\n        })\n        .then((res) => {\n          setError(res.message);\n          if (res.message === \"Check your email for password link..\") {\n            setStyle(\"success\");\n          } else {\n            setStyle(\"danger\");\n          }\n        });\n    } catch (err) {\n      setError(\"Something went wrong\");\n    }\n    setLoading(false);\n  }\n\n  return (\n    <>\n      {\" \"}\n      <div className=\"login\">\n        <div className=\"login-content\">\n          <form onSubmit={handleSubmit}>\n            <h1 className=\"text-center my-4\">Enter your email</h1>\n            <div>\n              {error ? (\n                <div className={`alert alert-${style}`}>{error}</div>\n              ) : (\n                \"\"\n              )}\n\n              <div className=\"mb-3\">\n                <input\n                  className=\"form-control form-control-lg fs-15px\"\n                  type=\"email\"\n                  placeholder=\"Email address\"\n                  ref={emailRef}\n                  required\n                />\n              </div>\n\n              <div className=\"md-3\">\n                <button\n                  disabled={loading}\n                  className=\"btn btn-primary btn-lg d-block w-100 fw-500 mb-3\"\n                >\n                  Reset\n                </button>\n              </div>\n              <div className=\"mb-3\">\n                <span className=\"text-center\">Let's Login </span>\n                <Link to=\"/login\" className=\"text-center text-muted\">\n                  Login\n                </Link>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default ForgetPassword;\n","import { useRef, useState } from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\n\nfunction UpdateProfile() {\n  const emailRef = useRef();\n  const usernameRef = useRef();\n  const passwordRef = useRef();\n  const [profilePictureRef, setProfilePicture] = useState();\n  const [error, setError] = useState();\n  const [style, setStyle] = useState();\n  const [loading, setLoading] = useState(false);\n  const { updateUsername, updateEmail, updatePassword, updateProfilePicture } =\n    useAuth();\n\n  async function handleUsername(e) {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      await updateUsername(usernameRef.current.value)\n        .then((res) => res.json())\n        .then((res) => {\n          setError(res.message);\n          if (res.message === \"Updated Sucessfully\") {\n            setStyle(\"success\");\n          } else {\n            setStyle(\"danger\");\n          }\n        })\n        .catch((error) => {\n          setError(\"Something went wrong...\");\n        });\n\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n    }\n  }\n\n  async function handleEmail(e) {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      await updateEmail(emailRef.current.value)\n        .then((res) => res.json())\n        .then((res) => {\n          setError(res.message);\n          if (res.message === \"Updated Sucessfully\") {\n            setStyle(\"success\");\n          } else {\n            setStyle(\"danger\");\n          }\n        })\n        .catch((error) => {\n          setError(\"Something went wrong\");\n        });\n\n      setLoading(false);\n    } catch (error) {\n      setError(\"Something went wrong...\");\n      setLoading(false);\n    }\n  }\n\n  async function handlePassword(e) {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      await updatePassword(passwordRef.current.value)\n        .then((res) => res.json())\n        .then((res) => {\n          setError(res.message);\n          if (res.message === \"Updated Sucessfully\") {\n            setStyle(\"success\");\n          } else {\n            setStyle(\"danger\");\n          }\n        })\n        .catch((error) => {\n          setError(\"Something went wrong\");\n        });\n\n      setLoading(false);\n    } catch (error) {\n      setError(\"Something went wrong\");\n      setLoading(false);\n    }\n  }\n\n  const handleUpload = (e) => {\n    setProfilePicture(e.target.files[0]);\n  };\n\n  async function handleProfilePicture(e) {\n    e.preventDefault();\n    try {\n      const data = new FormData();\n      data.append(\"profilePicture\", profilePictureRef);\n\n      setLoading(true);\n      await updateProfilePicture(data)\n        .then((res) => res.json())\n        .then((res) => {\n          setError(res.message);\n\n          if (res.message === \"Updated Sucessfully\") {\n            setStyle(\"success\");\n          } else {\n            setStyle(\"danger\");\n          }\n        })\n        .catch((error) => {\n          setError(\"Something went wrong\");\n        });\n\n      setLoading(false);\n    } catch (error) {\n      setError(\"Something went wrong\");\n      setLoading(false);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"login\">\n        <div className=\"login-content\">\n          <form onSubmit={handleProfilePicture}>\n            <h1 className=\"text-center my-4\">Change Details</h1>\n\n            {error ? <div className={`alert alert-${style}`}>{error}</div> : \"\"}\n\n            <div className=\"mb-3 d-flex\">\n              <input\n                className=\"p-2 m-2 form-control form-control fs-15px\"\n                type=\"file\"\n                placeholder=\"Profile Picture\"\n                name=\"profilePicture\"\n                required\n                onChange={handleUpload}\n              />\n              <button disabled={loading} className=\"p-2 m-2  btn btn-primary\">\n                Update\n              </button>\n            </div>\n          </form>\n          <form onSubmit={handleUsername}>\n            <div className=\"mb-3 d-flex\">\n              <input\n                className=\"p-2  m-2  form-control form-control fs-15px\"\n                type=\"text\"\n                placeholder=\"Username\"\n                ref={usernameRef}\n                required\n                minLength=\"8\"\n              />\n              <button disabled={loading} className=\"p-2 m-2  btn btn-primary\">\n                Update\n              </button>\n            </div>\n          </form>\n          <form onSubmit={handleEmail}>\n            <div className=\"mb-3 d-flex\">\n              <input\n                className=\"p-2 m-2   form-control form-control fs-15px\"\n                type=\"email\"\n                placeholder=\"Email address\"\n                ref={emailRef}\n                required\n              />\n              <button disabled={loading} className=\"p-2 m-2  btn btn-primary\">\n                Update\n              </button>\n            </div>\n          </form>\n          <form onSubmit={handlePassword}>\n            <div className=\"mb-3 d-flex\">\n              <input\n                className=\"p-2  m-2  form-control form-control fs-15px\"\n                type=\"password\"\n                placeholder=\"Password\"\n                ref={passwordRef}\n                minLength=\"8\"\n              />\n              <button disabled={loading} className=\"p-2 m-2  btn btn-primary\">\n                Update\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default UpdateProfile;\n","import React from \"react\";\nimport { useAuth } from \"./context/AuthContext\";\nimport { Route, Redirect } from \"react-router\";\n\nfunction PrivateRoute({ component: Component, ...rest }) {\n  const { currentUser } = useAuth();\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return currentUser ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/login\" />\n        );\n      }}\n    ></Route>\n  );\n}\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Dashboard from \"./components/Dashboard\";\nimport ForgetPassword from \"./components/Forgot-password\";\nimport UpdateProfile from \"./components/UpdateProfile\";\nimport { AuthProvider } from \"./context/AuthContext\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport { useEffect } from \"react\";\n\nfunction App() {\n  const url = \"http://localhost:3000/api\";\n  async function getToken() {\n    await fetch(`${url}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      credentials: \"include\",\n      mode: \"cors\",\n    });\n  }\n  useEffect(() => {\n    getToken();\n  });\n\n  return (\n    <Router>\n      <AuthProvider>\n        <Switch>\n          <PrivateRoute exact path=\"/\" component={Dashboard} />\n          <Route path=\"/register\" component={Register} />\n          <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/forgot-password\" component={ForgetPassword} />\n          <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\n        </Switch>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}